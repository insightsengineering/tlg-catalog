---
title: ADAT03
subtitle: Summary of Serum Concentrations at Timepoints Where ADA Samples Were Collected and Analyzed
---

------------------------------------------------------------------------

{{< include ../../test-utils/envir_hook.qmd >}}

::: panel-tabset
## Data Setup

```{r setup, message=FALSE}
#| code-fold: show

library(dplyr)
library(scda)
library(tern)

adsl <- synthetic_cdisc_dataset("latest", "adsl")
adab <- synthetic_cdisc_dataset("latest", "adab")
adpc <- synthetic_cdisc_dataset("latest", "adpc")

# Ensure character variables are converted to factors and empty strings and NAs are explicit missing levels.
adsl <- df_explicit_na(adsl)
adab <- df_explicit_na(adab)
adpc <- df_explicit_na(adpc)

# Adjust zzz parameter
max_conc <- 15

adpc <- adpc %>% select(USUBJID, NFRLT, AVAL, AVALU, AVALCAT1)

anl <- adab %>%
  filter(., PARAM == "ADA interpreted per sample result") %>%
  select(-AVAL, AVALC, AVALU)

anl <- merge(anl, adpc, by = c("USUBJID", "NFRLT")) %>%
  mutate(AVAL_LT = ifelse(AVAL <= max_conc, TRUE, FALSE))
```


## `teal` App

```{r teal, message=FALSE, opts.label='skip_if_testing'}
#| code-fold: show

# In progress
```

{{< include ../../repro.qmd >}}
:::
